var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define(["helper","signupurls","jquery","moment","insecureToSecure"],function(e,t,a,n,o){var r=e.getBasePathSecure(),m={},l=function(e){var t=e.match(/(\d+)-(\d+)-(\d+)T/);return"object"===(void 0===t?"undefined":_typeof(t))&&t.hasOwnProperty("length")&&4===t.length?t[2]+"."+t[3]+"."+t[1].replace(/^20/,""):""},p={event:function(e,t){return e.url=r+"STR?pg=entry&fr_id="+e.id,("national_company"===thm.page||"find_event"===thm.page&&thm.truthy(thm.query.company_id))&&(e.url=e.url+"&company="+thm.query.company_id),e.name=e.name.replace(/&amp;/,"&").replace(/&quot;/g,'"'),e.date=l(e.event_date),e.fullDate=n(new Date(e.event_date)).utcOffset("-0500").toDate(),e.city&&e.city.length&&e.state&&e.state.length?e.location=e.city+", "+e.state:e.location="",a(thm.templates["event-template"](e))},participant:function(e,t){if(e.personalPageUrl=o.insecureUrlToSecure(e.personalPageUrl),e.lowerCaseName={first:(e.name.first||"").toLowerCase(),last:(e.name.last||"").toLowerCase()},e.teamName=(e.teamName||"").replace("&amp;","&").replace(/&quot;/g,'"'),e.amountRaised=(e.amountRaised||"").replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),e.consId=e.consId,!e.personalPagePrivate||"false"===e.personalPagePrivate)return a(thm.templates["participant-template"](e))},team:function(e,t){return e.name=e.name.replace("&amp;","&").replace(/&quot;/g,'"'),e.joinTeamURL=""!=t?t+"&"+e.joinTeamURL.split("?")[1]:e.joinTeamURL+"&s_reg_team_name="+escape(e.name),e.teamPageURL=o.insecureUrlToSecure(e.teamPageURL),e.lowerCaseName=e.name.toLowerCase(),e.amountRaised=(e.amountRaised||"").replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),a(thm.templates["team-template"](e))},company:function(e,t){return e.lowerCaseName=he.decode(e.companyName).toLowerCase(),e.amountRaised=e.amountRaised.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),a(thm.templates["company-template"](e))},eventloc:function(e,o){e.url=r+"STR?pg=entry&fr_id="+e.id,("national_company"===thm.page||"find_event"===thm.page&&thm.truthy(thm.query.company_id))&&(e.url=e.url+"&company="+thm.query.company_id),e.name=e.name.replace(/&amp;/,"&").replace(/&quot;/g,'"'),e.date=l(e.event_date),e.fullDate=n(new Date(e.event_date)).utcOffset("-0500").toDate();var m=void 0;return("national_company"===thm.page||"find_event"===thm.page&&thm.truthy(thm.query.company_id))&&(m="&company="+thm.query.company_id),e.signupurl="msabc"==window.product||"rfl"==window.product?t.createSignupUrl(e.id,thm.theme,thm.branch,thm.query.company_id):r+"TRR?pg=tfind&fr_id="+e.id+(void 0!==m?m:""),e.needs_login="msabc"!=window.product&&"rfl"!=window.product||"",e.city&&e.city.length&&e.state&&e.state.length?e.location=e.city+", "+e.state:e.location="",thm.page.indexOf("donate_now")>=0||thm.page.indexOf("CY17_MD_donate")>=0?a(thm.templates["event-template"](e)):"acq"===thm.page||"ret"===thm.page?a(thm.templates["event-full-template-acq"](e)):a(thm.templates["event-full-template"](e))},participantloc:function(e,t){if(e.lowerCaseName={first:(e.name.first||"").toLowerCase(),last:(e.name.last||"").toLowerCase()},e.personalPageUrl=o.insecureUrlToSecure(e.personalPageUrl),e.teamName=(e.teamName||"").replace("&amp;","&").replace(/&quot;/g,'"'),e.amountRaised=(e.amountRaised||"").replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),e.consId=e.consId,e.location=e.location,!e.personalPagePrivate||"false"===e.personalPagePrivate)return a(thm.templates["participant-loc-template"](e))},teamloc:function(e,t){return e.teamPageURL=o.insecureUrlToSecure(e.teamPageURL),e.name=e.name.replace("&amp;","&").replace(/&quot;/g,'"'),e.lowerCaseName=e.name.toLowerCase(),e.amountRaised=(e.amountRaised||"").replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),e.location=e.location,a(thm.templates["team-loc-template"](e))}};return m.htmlFromJSON=p,m.formatEventDate=l,m});