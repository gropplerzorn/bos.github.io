var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define(["jquery","handlebars","luminateExtend","moment","config","he","buildSwitcher","findEventBy","parseCookie","helper","signupurls","extractHTML","preload","waitForFinalEvent","levelWidths","handleBar","truthy","trUrlToNational","session_var","getInitials","insecureToSecure","getParticipantsForEvent","select2","bootstrap"],function(e,t,n,a,o,r,s,l,c,d,p,h,m,u,f,g,v,b,y,w,_,A){document.documentElement.lang="en",thm=window.THM||{},thm.$=e,thm.config=thm.config||{},e.extend(thm.config,o),{tfind:!0,reg:!0,ptype:!0,rthanks:!0,paymentForm:!0,waiver:!0}[thm.page]&&require(["reg"]),n(thm.extendConfig),thm.config.entry.slider&&thm.cms&&require(["slider","Vue"],function(t,n){var a=new n;thm.cms.eventBus=a,thm.cms.createVue=function(e,t,a){return new n({el:t,data:a,render:function(t){return t(e,{props:a})}})},thm.cms.createVue(t,e("slider")[0])});var k=new LazyLoad({threshold:100});thm.lazyLoadInstance=k;var C=p.GetTeamURL(thm.frid,thm.theme,thm.branch);C&&C.indexOf("signup")>-1?(C=C.replace("\n","").trim(),thm.cmssignupurl=C):C="",function(){for(var e,t=thm.query={},n=window.location.search.substring(1).split("&");e=n.shift();)t[(e=e.split("="))[0]]=!e[1]||unescape(e[1])}(),thm.truthy=v.truthy;var T=d.getBasePathSecure();if(thm.parseCookie=c.parseCookie,e("a.indicator-link").on("click",function(t){var n=e(t.target);t.preventDefault(),"_blank"===n.attr("target")?window.open(n[0].href):(!n.data("lockedAt")||+new Date-n.data("lockedAt")>300)&&(window.location.href=n[0].href),n.data("lockedAt",+new Date)}),thm.config.locale){if(e(".lang-selector").click(function(t){if("English"==e(".lang-selector > a").html()?e(".locale-switch.top").addClass("selected"):e(".locale-switch.bottom").addClass("selected"),e(".locale-switch,.lang-dropdown").toggleClass("show"),t.stopPropagation(),t.preventDefault(),e(window).width()<768){var n=e(".lang-dropdown.show").length?"150px":"auto";e(".lang-selector").height(n)}}),e(".locale-switch").click(function(t){t.preventDefault();var n=window.location.href;n=e("body").hasClass("lang-es")||n.indexOf("es_US")>-1?n.replace(/(&?)s_locale=es_US/i,"").replace(/\?/,"?s_locale=en_US&").replace(/&+/,"&"):n.replace(/(&?)s_locale=en_US/i,"").replace(/\?/,"?s_locale=es_US&").replace(/&+/,"&"),window.location=n}),e("#part_type_additional_gift_section_header").length>0){var S=e("#registration-kickstart_fundraising").html();e("#part_type_additional_gift_section_header").html(S)}if(e("#reform-team h2 > span").text(e("#registration-team_name_last_year").text()),e("#reform-team p.label.captain-only").html(e("#registration-team_no_leader").html()),e("#reform-team .row.options.vertical.shaded").prepend(e("#registration-team_not_wanted").html()),e("#making-strides-of").length>0){var I=!1;if(void 0!==(he=e("#making-strides-of").text()).split("Making Strides of")[1]?(he=he.split("Making Strides of")[1],me="Making Strides of"):void 0!==he.split("Making Strides Of")[1]?(he=he.split("Making Strides Of")[1],me="Making Strides of"):void 0!==he.split("Making Strides Against Breast Cancer of")[1]?(he=he.split("Making Strides Against Breast Cancer of")[1],me="Making Strides Against Breast Cancer of",I=!0):void 0!==he.split("Making Strides Against Breast Cancer Of")[1]?(he=he.split("Making Strides Against Breast Cancer Of")[1],me="Making Strides Against Breast Cancer Of",I=!0):me="Making Strides of",(ue=he.toLowerCase().indexOf("presented by"))>-1)he="<div class='presenting'>"+he.substring(0,ue)+"</div>\n                        <div class='presented-by'>"+he.substring(ue,ue+13)+"</div>\n                        <div class='presenter'>"+he.substring(ue+13,he.length)+"</div>";e("#making-strides-of").html(he).prepend("<span class='bracketed'>"+me+"</span>"),I&&e("#making-strides-of span").addClass("two-lines")}if(e("#relay-for-life-event").length>0){var N=e("#relay-for-life-event").text(),M=N.toLowerCase().indexOf("presented by"),R=N.toLowerCase().indexOf("relay for life of");if(M>-1&&R>-1){var O=N.indexOf("Relay For Life of")+"Relay For Life of".length;N="<div class='presenting'>"+N.substring(O,M).trim()+"</div>\n                        <div class='presented-by'>"+N.substring(M,M+13)+"</div>\n                        <div class='presenter'>"+N.substring(M+13,N.length)+"</div>"}else if(M>-1){N="<div class='presenting'>"+N.substring(0,M).trim()+"</div>\n                        <div class='presented-by'>"+N.substring(M,M+13)+"</div>\n                        <div class='presenter'>"+N.substring(M+13,N.length)+"</div>"}else if(R>-1){N="<div class='presenting'>"+N.substring(R+17,N.length).trim()+"</div>"}e("#relay-for-life-event").html(N).prepend("<span class='bracketed'>Relay For Life of</span>")}e("#disc_code_container").length>0&&e("#disc_code_container").text(e("#registration-disc_code").text())}!function(e){e.fn.scrollTo=function(t){var n=e(this).eq(0);if(t=t||64,n.length)return e("html, body").animate({scrollTop:Math.max(n.offset().top-t,0)+"px"},"fast"),this},e.fn.scrollToHorizontal=function(t){var n=e(this).eq(0);if(t=t||64,n.length)return t>0?e(this).animate({scrollLeft:Math.max(n[0].scrollLeft+t,0)+"px"},"1000"):e(this).scrollLeft(Math.max(n[0].scrollLeft-t,0)),this},e.fn.scrollToTop=function(t){var n=e(this).eq(0);if(t=t||64,n.length)return thm.iOS()?n[0].scrollIntoView({behavior:"smooth"}):e("html, body").animate({scrollTop:Math.max(n.offset().top-t,0)+"px"},"fast"),this},e.fn.scrollParentTo=function(){var t=e(this).parent();return t.scrollTop(e(this).offset().top-t.offset().top+t.scrollTop()),this};var t=""+T+e("a[name='my-team']").attr("href");e("a[name='my-team']").attr("href",t)}(jQuery);n.utils.ensureArray;if(thm.states={ALABAMA:"AL",AL:"AL",ALASKA:"AK",AK:"AK",ARIZONA:"AZ",AZ:"AZ",ARKANSAS:"AR",AR:"AR",CALIFORNIA:"CA",CA:"CA",COLORADO:"CO",CO:"CO",CONNECTICUT:"CT",CT:"CT",DELAWARE:"DE",DE:"DE","DISTRICT OF COLUMBIA":"DC",DC:"DC","D.C.":"DC",FLORIDA:"FL",FL:"FL",GEORGIA:"GA",GA:"GA",HAWAII:"HI",HI:"HI",IDAHO:"ID",ID:"ID",ILLINOIS:"IL",IL:"IL",INDIANA:"IN",IN:"IN",IOWA:"IA",IA:"IA",KANSAS:"KS",KS:"KS",KENTUCKY:"KY",KY:"KY",LOUISIANA:"LA",LA:"LA",MAINE:"ME",ME:"ME",MARYLAND:"MD",MD:"MD",MASSACHUSETTS:"MA",MA:"MA",MICHIGAN:"MI",MI:"MI",MINNESOTA:"MN",MN:"MN",MISSISSIPPI:"MS",MS:"MS",MISSOURI:"MO",MO:"MO",MONTANA:"MT",MT:"MT",NEBRASKA:"NE",NE:"NE",NEVADA:"NV",NV:"NV","NEW HAMPSHIRE":"NH",NH:"NH","NEW JERSEY":"NJ",NJ:"NJ","NEW MEXICO":"NM",NM:"NM","NEW YORK":"NY",NY:"NY","NORTH CAROLINA":"NC",NC:"NC","NORTH DAKOTA":"ND",ND:"ND",OHIO:"OH",OH:"OH",OKLAHOMA:"OK",OK:"OK",OREGON:"OR",OR:"OR",PENNSYLVANIA:"PA",PA:"PA","PUERTO RICO":"PR",PR:"PR","RHODE ISLAND":"RI",RI:"RI","SOUTH CAROLINA":"SC",SC:"SC","SOUTH DAKOTA":"SD",SD:"SD",TENNESSEE:"TN",TN:"TN",TEXAS:"TX",TX:"TX",UTAH:"UT",UT:"UT",VERMONT:"VT",VT:"VT",VIRGINIA:"VA",VA:"VA",WASHINGTON:"WA",WA:"WA","WEST VIRGINIA":"WV",WV:"WV",WISCONSIN:"WI",WI:"WI",WYOMING:"WY",WY:"WY","AMERICAN SAMOA":"AS",AS:"AS",GUAM:"GU",GU:"GU","NORTHERN MARIANA ISLANDS, COMMONWEALTH":"MP",MP:"MP","UNITED STATES VIRGIN ISLANDS":"VI",VI:"VI"},thm.stateCheck=/(Alabama|\bAL\b|Alaska|\bAK\b|Arizona|\bAZ\b|Arkansas|\bAR\b|California|\bCA\b|Colorado|\bCO\b|Connecticut|\bCT\b|Delaware|\bDE\b|Florida|\bFL\b|Georgia|\bGA\b|Hawaii|\bHI\b|Idaho|\bID\b|Illinois|\bIL\b|Indiana|\bIN\b|Iowa|\bIA\b|Kansas|\bKS\b|Kentucky|\bKY\b|Louisiana|\bLA\b|Maine|\bME\b|Maryland|\bMD\b|Massachusetts|\bMA\b|Michigan|\bMI\b|Minnesota|\bMN\b|Mississippi|\bMS\b|Missouri|\bMO\b|Montana|\bMT\b|Nebraska|\bNE\b|Nevada|\bNV\b|New Hampshire|\bNH\b|New Jersey|\bNJ\b|New Mexico|\bNM\b|New York|\bNY\b|North Carolina|\bNC\b|North Dakota|\bND\b|Ohio|\bOH\b|Oklahoma|\bOK\b|Oregon|\bOR\b|Pennsylvania|\bPA\b|RhodeIsland|\bRI\b|South Carolina|\bSC\b|South Dakota|\bSD\b|Tennessee|\bTN\b|Texas|\bTX\b|Utah|\bUT\b|Vermont|\bVT\b|West Virginia|\bWV\b|Washington DC|\bDC\b|Virginia|\bVA\b|Wisconsin|\bWI\b|Wyoming|\bWY\b|Washington|\bWA\b|Puerto Rico|\bPR\b|U.S.Virgin Islands|\bVI\b|American Samoa|\bAS\b|Guam|\bGU\b|Northern Mariana Islands|\bMP\b|Armed Forces Americas|\bAA\b|Armed Forces Europe|\bAE\b|Armed Forces Pacific|\bAP\b)$/i,thm.parseCookie(),thm.scrollParentToChild=function(e){e.parent.scrollTop(e.child.offset().top-e.parent.offset().top+e.parent.scrollTop())},window.THM.contentLoaded=function(t){e(t+" .loader-container").addClass("hidden")},"rmwp"!==window.product&&"activeResearchers"!==window.product&&"msabc"!==window.product&&"rfl"!==window.product||require(["vue-setup"]),thm.cookie.set("prevUrl",thm.cookie.currentUrl),thm.cookie.set("currentUrl",window.location.href+"?"+window.location.query),thm.api=U,thm.sortRows=function(){var t=e(this),n=t.closest("table"),a=n.data("sortDir"),o=n.find("tbody tr"),i=t.data("sortBy");n.data("sortDir",-a),o=o.sort(function(t,n){if(t=e(t),n=e(n),t.data()[i]<n.data()[i])return-a;if(t.data()[i]>n.data()[i])return a;return 0}),n.find("tbody").append(o)},thm.getZip=W,thm.getTRObjects=function(t,a){var o=t.callback,i=[],r={count:0,results:i,type:t.resultType,iters:0};t.responseName=t.responseName||t.method+"Response",t.callback=function(s){var l=s.totalNumberResults,c=n.utils.ensureArray(s[t.resultType]);return l>-1||!t.noCount||(l=c.length),r.iters++,l>-1&&!a?o({count:l,results:c,type:t.resultType}):(e.merge(i,c),a?i.length<l?(t.params.list_page_offset++,U(t)):(r.count=i.length,o(r)):s.errorResponse?o(!1,s.errorResponse):o(!1,{code:"-999",message:"Unknown Error"}))},t.params.list_page_size=t.params.list_page_size||250,t.params.list_page_offset=t.params.list_page_offset||0,U(t)},thm.getTRObjects2=function(t,a){var o=t.callback,i=[],r={count:0,results:i,type:t.resultType,iters:0};t.responseName=t.responseName||t.method+"Response",t.callback=function(s,l){if(l)return o(!1,l);if(s&&s.hasOwnProperty("personalProgress"))return o(s,l);var c=s.totalNumberResults,d=n.utils.ensureArray(s[t.resultType]);return c>-1||!t.noCount||(c=d.length),r.iters++,c>-1&&!a?o({count:c,results:d,type:t.resultType}):(e.merge(i,d),a?i.length<c?(t.params.list_page_offset++,U(t)):(r.count=i.length,o(r)):o(!1,{code:"-999",message:"Unknown Error"}))},t.params.list_page_size=t.params.list_page_size||250,t.params.list_page_offset=t.params.list_page_offset||0,U(t)},thm.api({method:"getLoginUrl",responseName:"getLoginUrlResponse",callback:function(e){try{thm.cookie.JSESSIONID=e.JSESSIONID}catch(e){console.log(e)}},api:"cons",auth:!0}),thm.generateModal=function(t,n){thm.modal=e(thm.templates["modal-component"](t)),thm.config.modalOnBody?e("body").append(thm.modal):(n=void 0===n&&e("#main_content").length?e("#main_content"):e("body"),thm.modal=e(thm.templates["modal-component"](t)),n.append(thm.modal)),e(document.getElementById(t.id)).modal()},thm.preload=m.preloadFunction,thm.waitForFinalEvent=u.waitForFinalEvent,thm.levelWidths=f.levelWidths,e=THM.$,thm.cons){var E="&event_type="+encodeURIComponent(thm.config.eventType);n.api.request({api:"teamraiser",data:"method=getRegisteredTeamraisers&cons_id="+thm.cons.cons_id+E,callback:s.buildSwitcher})}if(thm.config.pickSelect2OnClose&&e("select:not('.no-select2')").select2({selectOnClose:!0}),window.product.indexOf("active")>-1&&window.document.URL.indexOf("Donation2?idb")>-1&&e(".cfpActive.page-donation #ProcessForm select").select2("destroy"),"rmwp"===window.product&&(thm.buildSwitcher=s.buildSwitcher),thm.mobile=!!e("#mobilenav:visible").length,thm.templates=g,thm.messages={},e("input.thm-message").each(function(){var t=e(this);thm.messages[t.attr("name")]=t.val()}),(thm.mobile||thm.cons)&&require(["jqsticky"],function(){thm=window.THM||{},thm.mobile?"donate_now"==!thm.page&&e(".header-bottom-mobile").sticky({topSpacing:0}):e(".loggedin-module").sticky({topSpacing:0})}),thm.mobile&&"my_fundraising"!==thm.page&&"my_team"!==thm.page&&("rfl"===window.product?e(window).scroll(function(){e(this).scrollTop()>100?"luminaria"!==thm.page&&e("#social_share").slideUp("slow/400/fast"):e("#social_share").slideDown("slow/400/fast")}):e(window).scroll(function(){e("#social_share").slideDown("slow/400/fast",function(){})})),e("[data-content-url]").each(function(){var t=e(this),n=t.data("content-url");e.get(n,function(n){var a=e(n);(a=a.find("#page_body_container")).find("H2").addClass("section-title"),a.text().length<10||t.html(a.html())},"text")}),thm.config.sponsorsSelectors)for(var x in thm.config.sponsorsSelectors)Y(e(thm.config.sponsorsSelectors[x]));if(e(".via.twitter[data-url], .via.facebook[data-url]").on("click",function(t){switch(thm.page){case"national_company":case"nomination_thanks":case"company":case"donate_now":if(thm.config.donateNowSocial){$(t);break}case"ecommerce_thanks":$(t);break;default:e(this).hasClass("facebook")||$(t)}}),e("[data-autosearch]").each(function(){var t=e(this);null==thm.query.company_id&&(thm.query.company_id=0),t.on("go",function(){"rfl"!==window.product?e("#events-near-you:visible").length?thm.getEventsByZip(t.val(),4,e('[data-searchfield="'+t.attr("id")+'"]'),!0,j,!0,!1,void 0):thm.getEventsByZip(t.val(),4,e('[data-searchfield="'+t.attr("id")+'"]'),!0,!1,!0,!1,void 0):thm.getEventsByZip(t.val(),4,e('[data-searchfield="'+t.attr("id")+'"]'),!0,null,!0)}),"rfl"===window.product&&t.val()||t.on("go-auto",function(){e("#events-near-you:visible").length?thm.getEventsByZip(t.val(),4,e('[data-searchfield="'+t.attr("id")+'"]'),!0,j,!0,!0,void 0):thm.getEventsByZip(t.val(),4,e('[data-searchfield="'+t.attr("id")+'"]'),!0,!1,!0,!0,void 0)})}),e("[data-autofill]").each(function(){if(!thm.query.search){var t=e(this);switch(t.data("autofill")){case"zip":W(function(e){e&&(t.val(e),t.trigger("go-auto"))})}}}),e("[data-option]").click(L),e("[data-href-src]").each(function(){var t=e(this),n=e(t.data("href-src")),a=t.data("href-add")||"",o=n.attr("href")||"";a=o.search(/\?/)>-1?a&&"&"+a:a&&"?"+a,"rfl"===window.product||"rmwp"===window.product?t.attr("href",o):o.length&&t.attr("href",o.replace(/(#|$)/,a+"$1"))}),e("a[data-session-set]").click(function(t){var n=(e(this).data("session-set")||"").split(":");n.length<2||n[0]&&(window.sessionStorage[n[0]]=n[1])}),e("a[data-set-cookie]").click(function(t){var n=(e(this).data("setCookie")||"").split(":");n.length<2||n[0]&&thm.cookie.set(n[0],n[1],.04)}),digitalData.page.pageInfo.experience=thm.mobile?"mobile":"desktop",digitalData.page.pageInfo.pageName=e("title").text().replace(/(^\s+)|(\s+)$/g,""),digitalData.page.category.primaryCategory||(digitalData.page.category.primaryCategory=digitalData.page.category.pageType),"ptype"==thm.page&&"rfl"===window.product){var D;e("#part_type_additional_gift_container .form-content").append(e("<div></div>").attr({class:"donation-ask-container shaded",id:"relay-registration-ask-container"}));for(var P=0;P<thm.config.msgs.length;P++)D="relay-registration-msg"+P.toString(),e("#relay-registration-ask-container").append(e("<div></div>").attr({id:D,class:"relay-registration-msgs"}).text(thm.config.msgs[P])),function(t){e(e(".donation-level-row-container")[P]).on("click",function(){"relay-registration-msg5"==t?e(".donation-ask-container").hide():e(".donation-ask-container").show(),e(".relay-registration-msgs").hide(),e(document.getElementById(t)).show()})}(D);thm.config.setRegAmountRefresh&&function(){var t,n;switch(t=thm.cookie.ptype_don_amt?"$"+thm.cookie.ptype_don_amt.replace(/[^0-9.]/,"").toString():"$0"){case"$0":n="5";break;case"$25":n="0";break;case"$50":n="1";break;case"$75":n="2";break;case"$100":n="3";break;default:n="4"}"4"===n&&(e("#fr_donation_level_enter_amount_"+thm.frid+"_4").val(t.replace(/\$|(\.00)/g,"")),e(e(".donation-level-row-container input")[n]).val(t.replace(/\$|(\.00)/g,""))),e("#total-due").text(t),e(e(".donation-level-row-container")[n]).click(),e(e(".donation-level-row-container input")[n]).change(),e("#fr_donation_level_"+thm.frid+"_"+n).prop("checked",!0)}()}function L(){var t=e(this),n=e(t.data("option")),a=n.data("option-group"),o=thm[t.data("test")];t.hasClass("disabled")||"function"==typeof o&&!o()||(e("[data-option-group='"+a+"']").addClass("hidden"),n.removeClass("hidden"),window.scrollTo(0,0))}function U(e){var t,a,o="method="+e.method,i=e.responseName||e.method+"Response",r=e.errorName||"errorResponse";for(t in e.params)if((a=e.params[t]||"").shift)for(;a.length;)o+="&"+t+"="+a.shift();else o+="&"+t+"="+a;n.api.request({api:e.api||"teamraiser",data:o,useHTTPS:!0,requiresAuth:e.auth||!1,callback:function(t){return t[i]?e.callback(t[i]):t[r]?e.callback(!1,t[r]):e.callback(!1,{code:"-999",message:"Unknown Error"})}})}function H(){for(var e,t=THM.session.replace(/(^;)|(;$)/g,"").split(/;/);e=t.pop();)1==(e=e.split(/=/)).length?this[e[0]]=!0:this[e[0]]=e[1]}function W(e){if("function"==typeof e){if(thm.cookie.zip)return thm.cookie.set("zip",thm.cookie.zip,24),e(thm.cookie.zip),thm.cookie.zip;navigator.geolocation||e(!1),navigator.geolocation.getCurrentPosition(function(t){console.log("pos",t);var n=new google.maps.LatLng(t.coords.latitude,t.coords.longitude);(new google.maps.Geocoder).geocode({latLng:n},function(t,n){if(n==google.maps.GeocoderStatus.OK&&void 0!==t[0]){var a=t[0].formatted_address.match(/,\s\w{2}\s(\d{5})/);a?e(a[1]):console.log("Zipcode lookup failure- Parse failure")}else console.log("Zipcode lookup failure - could not find address")})},function(e){console.log("ERROR("+e.code+"): "+e.message)})}}function B(t,n,a,o,i,r){if(""==thm.MobileGtwyURL)return console.log("Empty Mobile Gateway URL - Unable to get event location");for(var s=t,l="",c=[],d=0;d<s.results.length;d++)-1===e.inArray(s.results[d][r],c)&&(l=l+"&EventIds="+s.results[d][r].toString(),c.push(s.results[d][r]));e.ajax({url:thm.MobileGtwyURL+"/api/event/getlistbyid?FundraisingPlatform=Blackbaud&ApiVersion=1.0"+l,type:"GET",success:function(e){for(var t=0;t<s.results.length;t++){var l=F(e.results,"eventId",s.results[t][r]);l&&l.eventAddress&&l.eventAddress.city&&l.eventAddress.city.length&&l.eventAddress.state&&l.eventAddress.state.length?(s.results[t].location=l.eventAddress.city+", "+l.eventAddress.state,s.results[t].city=l.eventAddress.city,s.results[t].state=l.eventAddress.state):(s.results[t].location="",s.results[t].city="",s.results[t].state="")}V(s,a,n,o),"function"==typeof i&&i(s)},error:function(e){return console.log("Trouble getting Entities",e)}})}function F(e,t,n){for(var a=0,o=e.length;a<o;a++)if(e[a]&&e[a][t]===n)return e[a]}function V(t,n,a,o,i){void 0===i&&(i=!1);var r,s,l,c,d=0,p=n.closest(".search-results");if(o&&(s=n.find(".pinned"),l=n.find(".show-all-btn"),n.empty()),"rfl"===window.product||"find_event"!=thm.page||i)if("rfl"===window.product)if(0==t.count){f=e("#sorry-no-results").html();e(".container .search-results .error-msg").html(f)}else e(".container .search-results .error-msg").html("");else if(!i&&"msabc"!==thm.page&&void 0===t.count||0==t.count){f=e("#sorry-no-results").html();if("acq"===thm.page||"ret"===thm.page){var m="zip-search1"===n[0].classList[2]?".container .search-results.error-msg1 .error-msg-zip":".container .search-results.error-msg2 .error-msg-zip";e(m).html(f)}else e(".container .search-results .error-msg-zip").html(f)}else if("acq"===thm.page||"ret"===thm.page){var u="zip-search1"===n[0].classList[2]?".container .search-results.error-msg1 .error-msg-zip":".container .search-results.error-msg2 .error-msg-zip";e(u).html("")}else e(".container .search-results .error-msg-zip").html("");else{if(0==t.count){var f=e("#sorry-no-results").html();return p.removeClass("more-to-view"),e("#other-searches .other-search").addClass("hidden"),void e("#search-form .error-msg").html(f)}p.addClass("more-to-view"),e("#other-searches .other-search").removeClass("hidden")}for(;d<t.results.length;d++)if(("national_company"===thm.page||"find_event"===thm.page&&thm.truthy(thm.query.company_id))&&(t.results[d].url=t.results[d].url+"&company="+thm.query.company_id,t.results[d].greeting_url=t.results[d].greeting_url+"&company="+thm.query.company_id),"topparticipantlist"===thm.page&&thm.truthy(t.results[d].teamPageUrl)&&t.results[d].teamPageUrl.length&&(t.results[d].teamPageUrl=_.insecureUrlToSecure(t.results[d].teamPageUrl)),thm.config.resultsReplaceAnd)t.results[d]&&(t.results[d].name.hasOwnProperty("replace")&&(t.results[d].name=t.results[d].name.replace(/&amp;/g,"&")),(r=h.htmlFromJSON[a](t.results[d],C))&&(r.addClass("search-result"),e(r).find(".btn-event-signup").attr("data-needs-login")||e(r).find(".btn-event-signup").removeAttr("data-needs-login"),n.append(r)));else{var g=t.results[d].name;if("participant"!==a&&"participantloc"!==a){var v=e("<div/>").html(g).text();t.results[d].name=v}("eventloc"===a&&q(t.results[d])||"eventloc"!==a||"donate_now"===thm.page)&&((r=h.htmlFromJSON[a](t.results[d],C)).addClass("search-result"),e(r).find(".btn-signup").attr("data-needs-login")||e(r).find(".btn-signup").removeAttr("data-needs-login"),e(r).find(".btn-event-signup").attr("data-needs-login")||e(r).find(".btn-event-signup").removeAttr("data-needs-login"),n.append(r))}if(("acq"===thm.page||"ret"===thm.page)&&void 0!==t.results&&t.results.length>3?(n.children().last().replaceWith(l),n.children().last().show()):("acq"===thm.page||"ret"===thm.page)&&void 0!==t.results&&t.results.length<=3&&(n.append(l),n.children().last().hide()),s&&s.length&&(n.children().length?n.children().last().replaceWith(s):n.append(s)),p.data("num-results",t.count),c=(c=33)||100,e(".new").each(function(t){var n=e(this);setTimeout(function(){n.removeClass("new")},c*t)}),j(),"rfl"===window.product||0!==e(".row.event-info-row > div").length)t.count>p.find(".result-info").length?p.addClass("more-to-view"):p.removeClass("more-to-view"),n.data().nofocus||e("body").is(".pg-topparticipantlist, .pg-teamlist, .pg-complist")||n.scrollTo();else{f=e("#sorry-no-results").html();e("#search-form .error-msg").html(f)}}function q(e){return!!(e.city&&e.city.length&&e.state&&e.state.length&&e.zip&&e.zip.length)}function j(){var t=0;e(thm.config.levelSearchSelector).each(function(){e(this).height(""),e(this).height()>t&&(t=e(this).height())}),e(thm.config.levelSearchSelector).height(t)}thm.truthy(thm.config.sortableSelector)&&e("body").on("click",thm.config.sortableSelector,function(t){t.preventDefault(),t.stopPropagation();var n=e(this),a=n.closest("table"),o=e(a).next("label.text-center").find("[data-limits]").val();n.hasClass("sortby")?n.hasClass("desc")?(n.removeClass("desc"),a.data("sortdir","asc")):(n.addClass("desc"),a.data("sortdir","desc")):n.hasClass("desc")?a.data("sortdir","desc"):a.data("sortdir","asc"),a.find(".sortable").not(n).removeClass("sortby"),n.addClass("sortby"),a.data("sortcol",n.closest("th").prevAll().length),a.data("sorttype",n.data().sorttype||"text"),function(){var t=a.find("tbody"),n=t.find("tr"),o=a.data(),i=o.sortdir,r=o.sortcol;transform={text:function(e){return(e||"").toUpperCase()},number:function(e){return 1*e.replace(/[^\d\.]/g,"")},date:function(e){return e=e.replace(/[-\.]/g,"/"),new Date(e)}}[o.sorttype],n.sort(function(t,n){var a;"asc"==i&&(a=t,t=n,n=a);return t=e(t).find("td").eq(r).text(),n=e(n).find("td").eq(r).text(),t=transform(t),n=transform(n),t>n?1:t==n?0:-1}),n.each(function(){e(this);t.prepend(this)})}(),thm.truthy(thm.manageContacts)?(o=thm.manageContacts.limit===o?thm.manageContacts.limit:o,thm.limitRows(a,o),delete thm.manageContacts):thm.limitRows&&thm.limitRows(a,o||"All")}),thm.config.listSort&&e("body").on("click","li a.sortable",function(){var t=e(this),n=t.closest(".content").find(".vScrollList ol");t.hasClass("sortby")?t.hasClass("desc")?(t.removeClass("desc"),n.data("sortdir","asc")):(t.addClass("desc"),n.data("sortdir","desc")):t.hasClass("desc")?n.data("sortdir","desc"):n.data("sortdir","asc"),n.find(".sortable").not(t).removeClass("sortby"),t.addClass("sortby"),n.data("sortcol",t.closest("span").prevAll().length),n.data("sorttype",t.data().sorttype||"text"),function(){var t=n.find("li"),a=n.data(),o=a.sortdir,i=a.sortcol;transform={text:function(e){return(e||"").toUpperCase()},number:function(e){return 1*e.replace(/[^\d\.]/g,"")},date:function(e){return e=e.replace(/[-\.]/g,"/"),new Date(e)}}[a.sorttype],t.sort(function(t,n){var a;"asc"==o&&(a=t,t=n,n=a);return t=e(t).find("span").eq(i).text(),n=e(n).find("span").eq(i).text(),t=transform(t),n=transform(n),t>n?1:t==n?0:-1}),t.each(function(){e(this);n.prepend(this)})}()}),thm.optionShow=L,H.prototype.set=function(e,t,n){var a,o,i;if(n=n||function(){},(void 0===e?"undefined":_typeof(e))==_typeof({})){for(o in e)this[o]=e[o];n=t}else void 0===t?delete this[e]:this[e]=t;for(o in a=[],this)this.hasOwnProperty(o)&&(i=o,!0!==this[o]&&(i+="="+this[o]),a.push(i));a=a.join(";")+";",y.setSessionVar("thm_session",a,n)},H.prototype.clearPrefix=function(e,t){var n,a={};for(n in thm.session)0===n.search(e+"_")&&(a[n]=void 0);thm.session.set(a,t)},THM.session=new H,thm.attempt=function(){var t=[].slice.call(arguments),n=t.shift(),a=60;if("function"!=typeof n)throw new Error("attempt requires a function as the first argument.");function o(){thm.api({method:"loginTest",responseName:"loginResponse",api:"cons",callback:function(e,i){if(e)return console.log("data--\x3e",e),n.apply(window,t);a--&&setTimeout(o,1e3)},params:{},auth:!0})}thm.api({method:"loginTest",responseName:"loginResponse",api:"cons",callback:function(a,i){if(a)return n.apply(window,t);window.open(e("#login-link").val(),"login"),setTimeout(o,1e3)},params:{},auth:!0})},window.thm=window.THM,thm.getParticipants=function(t,n,a,o,i,r){n=e(n),void 0===r&&(r=!1);t=thm.cookie.search_all?e.extend({event_type:escape(thm.config.eventType),list_filter_column:"private_page",list_filter_text:"0"},t||{}):e.extend({event_type:escape(thm.config.eventType),list_filter_column:"private_page",list_filter_text:"0",fr_id:thm.query.FR_ID},t||{}),r&&(t.list_record_offset=r),THM.getTRObjects({method:"getParticipants",responseName:"getParticipantsResponse",callback:function(e){V(e,n,"participant",a),"function"==typeof o&&o(e)},resultType:"participant",params:t,auth:!0},i)},thm.getParticipantsLoc=function(t,n,a,o,i,r){n=e(n),void 0===r&&(r=!1);t=thm.cookie.search_all?e.extend({event_type:escape(thm.config.eventType),list_filter_column:"private_page",list_filter_text:"0"},t||{}):e.extend({event_type:escape(thm.config.eventType),list_filter_column:"private_page",list_filter_text:"0",fr_id:thm.query.FR_ID},t||{}),r&&(t.list_record_offset=r),THM.getTRObjects({method:"getParticipants",responseName:"getParticipantsResponse",callback:function(e){if(0==e.count)return V(e,n,"participant",a),void("function"==typeof o&&o(e));B(e,"participantloc",n,a,o,"eventId")},resultType:"participant",params:t,auth:!0},i)},thm.getTeams=function(t,n,a,o,i,r){var s=!1;"rfl"!==window.product&&(s=-1===i),n=e(n),void 0===i&&(i=!1);void 0===r&&(r=!1);t=thm.cookie.search_all?e.extend({event_type:escape(thm.config.eventType)},t||{}):e.extend({event_type:escape(thm.config.eventType),fr_id:thm.query.FR_ID},t||{}),i&&i>0&&(t.list_record_offset=i),r&&(t.list_page_offset=r),THM.getTRObjects({method:"getTeamsByInfo",responseName:"getTeamSearchByInfoResponse",callback:function(e){V(e,n,"team",a),"function"==typeof o&&o(e)},resultType:"team",params:t,auth:!0},s)},thm.getTeamsLoc=function(t,n,a,o,i,r){n=e(n),void 0===i&&(i=!1);void 0===r&&(r=!1);t=thm.cookie.search_all?e.extend({event_type:escape(thm.config.eventType)},t||{}):e.extend({event_type:escape(thm.config.eventType),fr_id:thm.query.FR_ID},t||{}),i&&(t.list_record_offset=i),r&&(t.list_page_offset=r),THM.getTRObjects({method:"getTeamsByInfo",responseName:"getTeamSearchByInfoResponse",callback:function(e){if(0==e.count)return V(e,n,"team",a),void("function"==typeof o&&o(e));B(e,"teamloc",n,a,o,"EventId")},resultType:"team",params:t,auth:!0})},thm.getEvents=function(t,n,a,o,i){n=e(n),t=e.extend({event_type:escape(thm.config.eventType)},t||{}),a||(t.list_record_offset=n.find(".search-result").length),THM.getTRObjects({method:"getTeamraisersByInfo",responseName:"getTeamraisersResponse",callback:function(e){thm.config.deleteResultsWithoutAddress&&(e.results=e.results.filter(function(e){return null!==e.city&&"None"!=e.state&&null!==e.zip}),e.count=e.results.length),V(e,n,i&&1==i?"eventloc":"event",a),"function"==typeof o&&o(e)},resultType:"teamraiser",params:t,auth:!0})},thm.getCompanies=function(t,n,a,o){n=e(n),t=e.extend({event_type:escape(thm.config.eventType)},t||{}),THM.getTRObjects({method:"getCompaniesByInfo",responseName:"getCompaniesResponse",callback:function(e){V(e,n,"company",a),"function"==typeof o&&o(e)},resultType:"company",params:t,auth:!0})},thm.findEventBy=l,thm.getEventsByZip=function(t,n,a,o,i,r,s,l){void 0===l&&(l=0),t=t.replace(/\s*$/,"").replace(/^\s*/,""),void 0===s&&(s=!1),a=e(a);var c=!o&&a.find(".event").length||0;n=n||16,t.length>5&&(t=t.slice(0,5)),0==l?THM.getTRObjects({method:"getTeamraisersByDistance",responseName:"getTeamraisersResponse",callback:function(e){V(e,a,r&&1==r?"eventloc":"event",o,s),"function"==typeof i&&i()},resultType:"teamraiser",params:{event_type:escape(thm.config.eventType),starting_postal:t,list_page_size:n,search_distance:200,list_sort_column:"distance",list_record_offset:c},auth:!0}):THM.getTRObjects({method:"getTeamraisersByDistance",responseName:"getTeamraisersResponse",callback:function(e){V(e,a,r&&1==r?"eventloc":"event",o,s),"function"==typeof i&&i()},resultType:"teamraiser",params:{event_type:escape(thm.config.eventType),starting_postal:t,list_page_size:n,search_distance:200,list_sort_column:"distance",list_record_offset:c,list_filter_column:"Company_ID",list_filter_text:l},auth:!0})},thm.levelSearchResultsHeight=j,String.prototype.pad=function(e,t,n){return e=["","","","","","","","","","","",""].join(e),t=this.length>t?this.length:t,n?(this+e).substr(0,t):(e+this).substr(-t)},thm.sendCustomEvent=function(e){if(document.createEvent&&document.body.dispatchEvent)(t=document.createEvent("Event")).initEvent(e,!0,!0),document.body.dispatchEvent(t);else if(window.CustomEvent&&document.body.dispatchEvent){var t=new CustomEvent(e,{bubbles:!0,cancelable:!0});document.body.dispatchEvent(t)}},e(document).on("donationComplete",function(){console.log("Donation logged")}),e("a.btn").on("click",function(){e(this).addClass("focus-style")}),e.fn.modal&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){}),thm.resetSearch=function(e){thm.parseCookie(),thm.cookie.set(e,"",-1),delete thm.cookie[e],thm.parseCookie()};var z=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,G=!!window.chrome&&!!window.chrome.webstore,K=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||!G&&!z&&void 0!==window.webkitAudioContext;thm.isSafari=K,thm.iOS=function(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod","MacIntel"];if(navigator.platform)for(;e.length;)if(navigator.platform===e.pop())return!0;return!1},thm.logAction=function(e,t,n){THM.api({method:"logInteraction",responseName:"updateConsResponse",api:"cons",callback:function(e,t){if(!e)return console.log("Trouble logging interaction",t)},params:{interaction_subject:e,interaction_type_id:thm.InteractionTypeId,interaction_body:t},auth:!0})},thm.getAction=function(e,t){THM.api({method:"listInteractions",responseName:"listInteractionsResponse",api:"cons",callback:t,params:{interaction_subject:e,interaction_type_id:thm.InteractionTypeId},auth:!0})},thm.getActionForMobile=function(e,t,n){THM.api({method:"getUserInteractions",responseName:"getUserInteractionsResponse",api:"cons",callback:t,params:{interaction_subject:e,interaction_type_id:thm.MobileInstall_InteractionTypeId,cons_id:n},auth:!0})},thm.logInteractionForMessenger=function(e,t,n){THM.api({method:"logInteraction",responseName:"updateConsResponse",api:"cons",callback:t,params:{interaction_subject:e,interaction_type_id:thm.messengerInteractionTypeId,interaction_body:n},auth:!0})},thm.getActionForMessenger=function(e,t,n){THM.api({method:"getUserInteractions",responseName:"getUserInteractionsResponse",api:"cons",callback:t,params:{interaction_subject:e,interaction_type_id:thm.messengerInteractionTypeId,cons_id:n},auth:!0})};function $(t){var n=t.currentTarget,a=escape(n.dataset.url),o={fb:"https://www.facebook.com/sharer/sharer.php?u=",twitter:"https://twitter.com/intent/tweet?url="}[n.dataset.service]+a+("twitter"==n.dataset.service?"&text="+escape(n.dataset.message):"");e("body").hasClass("lang-es")&&(o+="%26s_locale%3des_US",a+="%26s_locale%3des_US"),t.preventDefault(),"twitter"!==n.dataset.service?FB.ui({method:"share",display:"popup",href:n.dataset.url},function(e){}):(window.open(o,"facebook-share-dialog","width=626,height=436"),thm.truthy(n.closest(".collapse"))&&n.closest(".collapse").collapse("hide"))}function Y(t){if(e(".sponsors-container").length){var n=0,a=document.getElementById("sponsor-source")&&document.getElementById("sponsor-source").text.replace(/\\"/g,'"').match(/src="[^"]+"/g);if(a)for(;n<a.length;n++)img=e('<div class="sponsor-logo"><img '+a[n]+' class="img-responsive"></div>'),e(".sponsor-logos .slider .inner").prepend(img);var o=t.find(".slider .inner .sponsor-logo").length;if(o>1&&o<6){for(var i=Math.ceil(6/o)-1,r=t.find(".sponsor-logos .slider .inner"),s=r.html();i>0;i--)s+=s;e(r).html(s)}o>=1&&o<=3&&"rmwp"===window.product?e("#natlgreeting-partners .slider .inner").addClass("no-slide"):o>0&&l(!0,"left"),t.click(function(){var t,n=e(this);if(t=n.data("next-tick"))return n.data("next-tick",null),clearTimeout(t);l(!1,"left")}),t.find(".left-arrow").click(function(n){n.preventDefault(),n.stopPropagation();var a,o=e(this).closest(".sponsor-logos"),i=t.find(".slider .inner");if(a=o.data("next-tick"))return o.data("next-tick",null),clearTimeout(a);i.append(t.find(".sponsor-logo").first()),i.css("margin-left","0")}),t.find(".right-arrow").click(function(n){n.preventDefault(),n.stopPropagation();var a,o=e(this).closest(".sponsor-logos"),i=t.find(".slider .inner");if(a=o.data("next-tick"))return o.data("next-tick",null),clearTimeout(a);i.prepend(t.find(".sponsor-logo").last()),i.css("margin-left","0")})}function l(e,n){var a=t.find(".slider .inner .sponsor-logo").length,o=t;n=n||o.data("dir")||"left";var i=t.find(".slider .inner"),r=1*i.css("margin-"+n).replace("px",""),s=t.find(".sponsor-logo").first().outerWidth();return t.data("dir",n),e?(1==a?i.css("margin-"+n,"800px"):i.css("margin-"+n,"0px"),void o.data("next-tick",setTimeout(l,32))):-r>s?(i.append(t.find(".sponsor-logo").first()),l(!0)):(r-=1,i.css("margin-"+n,r+"px"),void o.data("next-tick",setTimeout(l,32)))}}if(thm.config.informationalJS&&e("body").hasClass("pg-informational")){e(".upcoming-fundraisers a").length>0&&e(".upcoming-fundraisers a").each(function(){e(this).hasClass("link-with-arrow")||e(this).addClass("link-with-arrow")});var Z=e("#page_content > h1").text().trim();if(Z.length>0&&"Become A Sponsor"===Z){e("table").last().after('\n    <div id="sponsorMSG">\n    </p>&nbsp;</p>\n    <center><p>\n    <span style="font-size: 90%;">The American Cancer Society graciously thanks our sponsors and supporters contributions to our mission.\n    Any links to our sponsor/supporter websites do not imply endorsement by the American Cancer Society and will take you away from your Relay For Life event page.</span></p>\n    </center></p></div>'),1===e("#page_content p").last().length&&e("#sponsorMSG").next("p").remove()}}if(thm.config.parseSectionTitles&&e('.section-title:contains("Event Contact") ~ .para1 a:first').length&&e("body").hasClass("pg-informational")){var J,X=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;e('.section-title:contains("Event Contact") ~ .para1 a').slice(0,2).each(function(){var t=e(this).text();if(e(this).removeClass(),e(this).addClass("link"),X.test(t))J="mailto:"+t,e(this).attr("href",J);else if("Online Help"===e(this).text()){var n=e("#httpBasePath").text(),a=e("#sid").text();a=a.trim();var o=n+"pg=informational&fr_id="+thm.frid+"&type=fr_informational&sid="+a;e(this).attr("href",o),e(this).attr("target","_blank")}})}var Q=thm.query.name;if(Q&&"upcoming-events"==Q&&document.getElementById("local-nav")&&e("#local-nav .container .col-sm-4:nth-child(2)").addClass("active"),e(".unmask-field").on("click",function(t){e(this).prevAll("input").toggleClass("masked-input"),t.preventDefault(),t.stopPropagation()}),e("body").hasClass("page-natl_co_events")||e("body").hasClass("page-natl_co_parts")){var ee=e("#company_URL").text();e(".event-link").attr("href",ee)}function te(){e("#primary, #secondary").on("keyup",function(t){13==t.which&&e("#search").click()}),e("#state-select").on("change",function(){e("#search").click()})}if(e("#search-more").length>0&&e("#zip_input").on("keyup",function(t){13==t.which&&e("#search-more").click()}),e("#search-form").length>0&&(te(),e("#searchtype").on("change",function(){te()})),thm.isSafari||"hidden"===e("#smartapp").text()||(e(".smartapp-banner").removeClass("hidden"),thm.iOS()&&e(".smartapp-banner a").attr("href","https://itunes.apple.com/us/app/american-cancer-society-fundraising/id918469737?mt=8")),navigator.userAgent.toLowerCase().indexOf("mobi")>-1&&!thm.iOS()&&e(".smartapp-banner").removeClass("hidden"),thm.iOS()&&(y.setSessionVar("smartapp","hidden"),e(".smartapp-banner").addClass("hidden")),"hidden"===e("#smartapp").text()&&e(".smartapp-banner").addClass("hidden"),e(".smartapp-banner-cta a").on("click",function(){y.setSessionVar("smartapp","hidden")}),e(".smartapp-banner-close").on("click",function(){y.setSessionVar("smartapp","hidden"),e(".smartapp-banner").addClass("hidden")}),window.ga&&ga(function(){e("#main > div:not('.header') .reg-intent").click(thm.regIntentToGA),"rmwp"===window.product&&e("#main > div:not('.header') [data-needs-login]").each(function(){this.href=thm.loginify(this.href)})}),e("#sign-back-in").each(function(){this.href=this.href+encodeURIComponent(window.location.href)}),e("#login-link").each(function(){e(this).val(""+e(this).val()+encodeURIComponent(window.location.href))}),e("#sign-back-in").click(function(t){if(thm.mobile||thm.iOS())return!0;t.preventDefault(),t.stopPropagation(),thm.attempt(function(){e("#timed-out").modal("hide")})}),"msabc"===window.product&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&e("html, body").addClass("safari"),"activeDetermination"!==window.product&&"activeMasterBlue"!==window.product&&"activeMasterPurple"!==window.product&&"activeMasterPink"!==window.product||-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&e("html, body").addClass("safari"),"rmwp"===window.product||"activeResearchers"===window.product){var ne=function t(n,a,o){e(".loader-holder:not('.donation')").removeClass("hidden");var i=thm.cmsapiurl+"/"+thm.locale+"/top10Data?skip="+a+"&limit="+o;e.ajax({url:i,type:"GET",dataType:"json",header:{Accept:"application/json"},success:function(i){if(!i||i.error)return thm.truthy(n)?void t(!1,a,o):void e("#top-ten-title, #leaderboard, .loader-holder:not('.donation')").addClass("hidden");i.totalResults>a+fe?e(".view-more-leaderboard").removeClass("hidden"):e(".view-more-leaderboard").addClass("hidden"),oe(i.results),e(".loader-holder:not('.donation')").addClass("hidden")},error:function(i){if(!thm.truthy(n))return e("#top-ten-title, #leaderboard, .loader-holder:not('.donation')").addClass("hidden"),console.log("Trouble getting Top Performers",i);t(!1,a,o)}})},ae=function(t,n){var a={},o=t.eventName.split("Presented")[0];return a.name=r.decode(t.entityName),a.initials=w.run(r.decode(t.entityName)),a.city=o,a.amount="$"+(Math.floor(t.amountRaised)||"0").toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),a.url=_.insecureUrlToSecure(t.entityUrl),a.rank=t.rank,a.img=t.img.replace("/site",""),e(thm.templates["leaderboards-template"](a))},oe=function(t){var n=[],a=[],o="dev"===thm.env&&"true"===thm.query["testing-leaderboard-100"]?/^$/:/(\btesting\b)|(\btest\b)|(\bblueprint\b)/,r="dev"===thm.env&&"true"===thm.query["testing-leaderboard-100"]?/^$/:/(\bnational ambassador\b)|(\bryan serhant\b)|(\bserhant\b)/;for(i=0;i<t.length;i++)if("Participant"==t[i].entityType){var s=t[i].eventName.toLowerCase();o.test(s)||("rmwp"!==window.product||r.test(s))&&"rmwp"===window.product||("null"!==thm.frid?thm.frid==t[i].eventID&&n.push(t[i]):n.push(t[i]))}var l=1+ge;for(i=0;i<n.length;i++){if(n[i].pgData){var c=n[i].pgData.img.replace("../","");""==c&&window.location.hostname.indexOf("tacsdev1")>-1?c="images/friendraiser_uploads/516076898.custom.jpg":""==c&&(c="images/friendraiser_uploads/176852099.custom.jpg"),n[i].img=""+T+c}("dev"===thm.env&&"true"===thm.query["testing-leaderboard-100"]||!(n[i].eventName&&n[i].eventName.toLowerCase().indexOf("testing")>-1||n[i].eventName&&n[i].eventName.toLowerCase().indexOf("test")>-1))&&(n[i].rank=l,a=ae(n[i],i),l+=1,e(".personal.leaderboard-row").append(a))}ie(ge,ve),ge+=fe,ve+=fe,thm.lazyLoadInstance.update()},ie=function(t,n){var a=0;e(".personal.leaderboard-box").each(function(){e(this).height()>a&&(a=e(this).height())}),0===t?e(".personal.leaderboard-box:lt("+n+")").height(a+100):e(".personal.leaderboard-box:lt("+n+")").height(a)},re=function(){e(".loader-holder:not('.donation')").addClass("hidden"),e("#search-error").removeClass("hidden"),thm.searchAttempts=0,thm.searchAborted=!0,thm.toSearch=!1},se=function(){if(2!==thm.searchAttempts){e("#search-error").addClass("hidden"),e(".loader-holder:not('.donation')").removeClass("hidden"),thm.toSearch=e("#candidate_input").val(),e("#leaderboard-table tbody").empty(),thm.searchAborted=!1;var t=setTimeout(re,2e4),n=e("#campaignresearcherstbody").length>0?"ResearcHERS":e("#campaignrmwptbody").length>0?"RealMenWearPink":"";e.ajax({url:thm.MobileGtwyURL+"/api/event/gettopranks?FundraisingPlatform=Blackbaud&ApiVersion=1.0&EntityType=Event",data:{ProgramType:n},type:"GET",dataType:"json",header:{Accept:"application/json"}}).then(function(e,n,a){clearTimeout(t),200===a.status?(le(e),thm.searchAttempts=0):(thm.toSearch=!1,thm.searchAttempts+=1,thm.getTopCampaigns())})}else e(".loader-holder:not('.donation')").addClass("hidden"),e("#search-error").removeClass("hidden"),thm.searchAttempts=0},le=function(t){var n=[],a=[],o="dev"===thm.env&&"true"===thm.query["testing-campaign-100"]?/^$/:/(\btesting\b)|(\btest\b)|(\bblueprint\b)/,r="dev"===thm.env&&"true"===thm.query["testing-campaign-100"]?/^$/:/(\bnational ambassador\b)|(\bryan serhant\b)|(\bserhant\b)/;for(i=0;i<t.results.length;i++){var s=t.results[i].eventName.toLowerCase();o.test(s)||("rmwp"!==window.product||r.test(s))&&"rmwp"===window.product||a.push(t.results[i])}t.results=a;var l=1;for(i=0;i<t.results.length;i++)"string"==typeof t.results[i].entityType&&"string"==typeof t.results[i].entityUrl&&"string"==typeof t.results[i].eventID&&(t.results[i].rank=l,l++,t.results[i].eventUrl=T+"STR?pg=entry&fr_id="+t.results[i].eventID,n.push(t.results[i]));!function(t){var n=void 0;for(i=0;i<t.results.length;i++)n=ce(t.results[i],t.template),e("#"+t.id+" tbody").append(n),e("#"+t.id+" tbody tr").slice(0,10).removeClass("hidden");t.results.length<=10&&e("."+t.id+"-container .view-more").addClass("hidden");var a=10;if(e(".view-more").click(function(n){t.results.length>10&&(e(".top-event-info.top-result-info:lt("+(a+10)+")").removeClass("hidden"),a=e(".top-event-info.top-result-info:lt("+(a+10)+")").length,n.preventDefault()),e(".top-event-info:not(:hidden)").length===t.results.length&&e(".view-more").addClass("hidden")}),0==t.results.length)return e("."+t.id+"-container .search-error").removeClass("hidden"),void e("."+t.id+"-container .loader-holder:not('.donation'),\n          ."+t.id+"-container .view-more").addClass("hidden");e("."+t.id+"-container .loader-holder:not('.donation')").addClass("hidden")}({results:n,template:"topcampaigns-template",filter:".campaign-search .candidate_input",id:"campaign-table"})},ce=function(t,n){if("string"!=typeof t.entityName||"string"!=typeof t.eventName||void 0===t.amountRaised)return!1;var a={};return a.name=t.entityName,a.campaignName=t.eventName,a.amountRaised=Math.floor(t.amountRaised).toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),a.url=t.entityUrl,a.eventUrl=t.eventUrl,a.rank=t.rank,t.eventAddress&&(a.state=t.eventAddress.state),e(thm.templates[n](a))};if(thm.iOS()&&thm.isSafari&&e("body, html").addClass("iOS"),"rmwp"===window.product){if(window.location.href.indexOf("tacsdev")>-1)var de="2e503385-7330-41ed-853e-ae7ebf48d30a";else de="761776ab-0994-4350-914c-edbd810a98eb";var pe=window.appInsights||function(e){function t(e){o[e]=function(){var t=arguments;o.queue.push(function(){o[e].apply(o,t)})}}var n,a,o={config:e},i=document,r=window,s="script",l="AuthenticatedUserContext",c="start",d="stop",p="Track",h=p+"Event",m=p+"Page",u=i.createElement(s);u.src=e.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js",i.getElementsByTagName(s)[0].parentNode.appendChild(u);try{o.cookie=i.cookie}catch(e){}for(o.queue=[],o.version="1.0",n=["Event","Exception","Metric","PageView","Trace","Dependency"];n.length;)t("track"+n.pop());return t("set"+l),t("clear"+l),t(c+h),t(d+h),t(c+m),t(d+m),t("flush"),e.disableExceptionTracking||(t("_"+(n="onerror")),a=r[n],r[n]=function(e,t,i,r,s){var l=a&&a(e,t,i,r,s);return!0!==l&&o["_"+n](e,t,i,r,s),l}),o}({instrumentationKey:de,disableAjaxTracking:!0});if(window.appInsights=pe,pe.trackPageView(),window.location.href.indexOf("topparticipantlist")>-1&&(e(".participant-find-donate-link, .donation-links a").each(function(){var e=this.href.replace(/Donation2\?df_id=\d*/,"SPageServer?pagename=menwearpink_donate_now");this.href=e}),e("#getParticipants").addClass("hidden"),e("#getParticipants").after(e('<div class="text-center"><a class="btn btn-donate text-center find-candidate-button" title="Find a Candidate">Find a Candidate</a></div>'))),e("#real-men-wear-pink-of").length>0){var he,me,ue;if(void 0!==(he=e("#real-men-wear-pink-of").text()).split("Real Men Wear Pink of")[1]?(he=he.split("Real Men Wear Pink of")[1],me="Men Wear Pink of"):void 0!==he.trim().split("Men Wear Pink of")[1]?(he=he.split("Men Wear Pink of")[1],me="Men Wear Pink of"):void 0!==he.trim().split("Men Wear Pink Of")[1]?(he=he.split("Men Wear Pink Of")[1],me="Men Wear Pink of"):me="Men Wear Pink of",(ue=he.toLowerCase().indexOf("presented by"))>-1)he="<div class='presenting'>"+he.substring(0,ue)+"</div>\n                        <div class='presented-by'>"+he.substring(ue,ue+13)+"</div>\n                        <div class='presenter'>"+he.substring(ue+13,he.length)+"</div>";e("#real-men-wear-pink-of").html(he).prepend("<span class='bracketed'>"+me+"</span>"),window.THM=thm}}var fe=10,ge=0,ve=1*fe;e(".view-more-leaderboard").click(function(e){ne(!1,ge,ve)}),e(".personal.leaderboard-row").length>0&&ne(!0,ge,ve),e("#campaignrmwptbody").length>0&&se(),e("#campaignresearcherstbody").length>0&&se()}window.digitalData.events=function(e){var t=setInterval(function(){"object"===("undefined"==typeof dataLayer?"undefined":_typeof(dataLayer))&&(clearInterval(t),dataLayer.push(e))},250)},thm.toCents=function(e){var t=e.slice(1,e.length);return isNaN(parseFloat(t))?e:parseFloat(t)},thm.trUrlToNational=b.trUrlToNational,e(".crop-photo-container").hasClass("croppie-container")?e(".remove").addClass("show-cross"):e(".remove").removeClass("show-cross"),e("#my-video-url").keyup(function(){e(this).val()?e(".youtube--close").show():e(".youtube--close").hide()}),e(".youtube--close").click(function(){e("#my-video-url").val(""),e(this).hide()});var be=!!(thm.query.pagename&&thm.query.pagename.indexOf("find_an_event")>-1);return("msabc"===thm.theme||"rfl"===thm.theme&&!be)&&(e("#find-an-event").on("show.bs.modal",function(){e(".MSABC .find_an_event .go-btn, .RFL .find_an_event .go-btn").attr("value","SEARCH"),e(".MSABC .find_an_event label, .RFL .find_an_event label").text("Enter event name, city or zip code below:"),e(".MSABC .find_an_event .searchAll").attr("placeholder","ENTER EVENT NAME, CITY, OR ZIP CODE"),e(".MSABC.lang-es .find_an_event .searchAll").attr("placeholder","Ingrese su cÃ³digo postal"),e(".RFL .find_an_event .searchAll").attr("placeholder","ENTER EVENT NAME, CITY, OR ZIP CODE")}),e(".MSABC a, .MSABC button, .RFL a, .RFL button").on("click",function(t){t.target.href&&t.target.href.indexOf("find_event")>-1&&-1===window.location.href.indexOf("find_event")&&-1===window.location.href.indexOf("donate_now")&&(t.preventDefault(),t.stopPropagation(),e("#find-an-event").modal())})),thm.levelHeight=function(t){if("object"===(void 0===t?"undefined":_typeof(t))&&t.length){t.attr("style","");var n=0;t.each(function(){e(this).height()>n&&(n=e(this).height())}),e(window).width()<=767&&(n="auto"),t.height(n)}},thm});